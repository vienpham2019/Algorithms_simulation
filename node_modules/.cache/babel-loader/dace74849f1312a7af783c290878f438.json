{"ast":null,"code":"import { Block } from '../helper_method';\nlet nodes, canvas, c, start_node, end_node, stack, size;\nlet block, finish_path, myReq, visited_nodes;\n\nconst depth_first_search_maze = props => {\n  block = new Block(0, 0);\n  nodes = props.nodes;\n  canvas = props.canvas;\n  c = props.c;\n  start_node = props.start_node;\n  end_node = props.end_node;\n  stack = props.stack;\n  size = props.size;\n  finish_path = false;\n  visited_nodes = [];\n  cancelAnimationFrame(myReq);\n};\n\nconst draw_maze = () => {\n  myReq = requestAnimationFrame(draw_maze);\n  c.clearRect(0, 0, canvas.width, canvas.height);\n\n  for (let i = 0; i < nodes.length; i++) {\n    nodes[i].draw();\n  }\n\n  for (let i = 0; i < nodes_path.length; i++) {\n    nodes_path[i].draw();\n  }\n\n  if (stack.length === 0) {\n    start_node.draw();\n    end_node.draw();\n\n    if (end_node.prev_node) {\n      find_path();\n    } else if (finish_path) {\n      cancelAnimationFrame(myReq);\n    }\n  } else {\n    move_block();\n  }\n};\n\nconst move_block = () => {\n  let current_node = stack[0];\n  let neighbor_nodes = [];\n  let x = current_node.x;\n  let y = current_node.y; // top\n\n  if (y - size > 0 && !visited_nodes.find(n => n.x === x && n.y === y - size)) {\n    let top = nodes.find(n => n.x === x && n.y === y - size);\n    neighbor_nodes.push(top);\n  } // right \n\n\n  if (x + size < width && !visited_nodes.find(n => n.x === x + size && n.y === y)) {\n    let right = nodes.find(n => n.x === x + size && n.y === y);\n    neighbor_nodes.push(right);\n  } // bottom\n\n\n  if (y + size < height && !visited_nodes.find(n => n.x === x && n.y === y + size)) {\n    let bottom = nodes.find(n => n.x === x && n.y === y + size);\n    neighbor_nodes.push(bottom);\n  } // left\n\n\n  if (x - size > 0 && !visited_nodes.find(n => n.x === x - size && n.y === y)) {\n    let left = nodes.find(n => n.x === x - size && n.y === y);\n    neighbor_nodes.push(left);\n  }\n\n  if (neighbor_nodes.length > 0) {\n    let next_node = neighbor_nodes[Math.floor(Math.random() * neighbor_nodes.length)];\n    stack.unshift(next_node);\n    visited_nodes.push(next_node);\n    block.dx = next_node.x - current_node.x;\n    block.dy = next_node.y - current_node.y;\n    block.x += block.dx;\n    block.y += block.dy;\n\n    if (block.dx > 0) {\n      // right \n      current_node.walls[1] = false;\n      next_node.walls[3] = false;\n    } else if (block.dx < 0) {\n      // left\n      current_node.walls[3] = false;\n      next_node.walls[1] = false;\n    }\n\n    if (block.dy > 0) {\n      // down\n      current_node.walls[2] = false;\n      next_node.walls[0] = false;\n    } else if (block.dy < 0) {\n      // up\n      current_node.walls[0] = false;\n      next_node.walls[2] = false;\n    }\n  } else {\n    let dx = current_node.x - (block.x + size / 2);\n    let dy = current_node.y - (block.y + size / 2);\n    block.x += dx;\n    block.y += dy;\n    stack.shift();\n  }\n\n  block.draw();\n};\n\nexport { depth_first_search_maze };","map":{"version":3,"sources":["/Users/vienpham/Desktop/Algorithms_simulation/algorithms/src/Algorithms/draw_maze/depth_first_search_maze_generation.js"],"names":["Block","nodes","canvas","c","start_node","end_node","stack","size","block","finish_path","myReq","visited_nodes","depth_first_search_maze","props","cancelAnimationFrame","draw_maze","requestAnimationFrame","clearRect","width","height","i","length","draw","nodes_path","prev_node","find_path","move_block","current_node","neighbor_nodes","x","y","find","n","top","push","right","bottom","left","next_node","Math","floor","random","unshift","dx","dy","walls","shift"],"mappings":"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","sourcesContent":["import {Block} from '../helper_method'\nlet nodes , canvas , c , start_node , end_node , stack , size \n\nlet block , finish_path , myReq , visited_nodes\n\nconst depth_first_search_maze = props => {\n    block = new Block(0 , 0)\n    nodes = props.nodes \n    canvas = props.canvas \n    c = props.c \n    start_node = props.start_node  \n    end_node = props.end_node\n    stack = props.stack\n    size = props.size \n\n    finish_path = false   \n    visited_nodes = []\n\n    cancelAnimationFrame(myReq)\n}\nconst draw_maze = () => {\n    myReq = requestAnimationFrame(draw_maze)\n    c.clearRect(0,0,canvas.width, canvas.height)\n\n    for(let i = 0; i < nodes.length; i ++){\n        nodes[i].draw()\n    }\n\n    for(let i = 0; i < nodes_path.length; i ++){\n        nodes_path[i].draw()\n    }\n\n    if(stack.length === 0){\n        start_node.draw()\n        end_node.draw()\n        if(end_node.prev_node){\n            find_path()\n        }else if(finish_path){\n            cancelAnimationFrame(myReq)\n        }\n    }else{ \n        move_block()  \n    }\n}\n\nconst move_block = () => {\n    let current_node = stack[0]\n    let neighbor_nodes = []\n    let x = current_node.x\n    let y = current_node.y\n\n    // top\n    if(y - size > 0 && !visited_nodes.find(n => n.x === x && n.y === y - size)){\n        let top = nodes.find(n => n.x === x && n.y === y - size)\n        neighbor_nodes.push(top)\n    }\n\n    // right \n    if(x + size < width && !visited_nodes.find(n => n.x === x + size && n.y === y)){\n        let right = nodes.find(n => n.x === x + size && n.y === y)\n        neighbor_nodes.push(right)\n    }\n\n    // bottom\n    if(y + size < height && !visited_nodes.find(n => n.x === x && n.y === y + size)){\n        let bottom = nodes.find(n => n.x === x && n.y === y + size)\n        neighbor_nodes.push(bottom)\n    }\n\n    // left\n    if(x - size > 0 && !visited_nodes.find(n => n.x === x - size && n.y === y)){\n        let left = nodes.find(n => n.x === x - size && n.y === y)\n        neighbor_nodes.push(left)\n    }\n\n    if(neighbor_nodes.length > 0){\n        let next_node = neighbor_nodes[Math.floor(Math.random() * neighbor_nodes.length)]\n        stack.unshift(next_node)\n        visited_nodes.push(next_node)\n        block.dx = next_node.x - current_node.x\n        block.dy = next_node.y - current_node.y\n\n        block.x += block.dx \n        block.y += block.dy\n\n        if(block.dx > 0) { // right \n            current_node.walls[1] = false \n            next_node.walls[3] = false \n        }else if(block.dx < 0){ // left\n            current_node.walls[3] = false \n            next_node.walls[1] = false \n        } \n\n        if(block.dy > 0) { // down\n            current_node.walls[2] = false \n            next_node.walls[0] = false \n        }else if(block.dy < 0){ // up\n            current_node.walls[0] = false \n            next_node.walls[2] = false \n        }\n    }else{\n        let dx = current_node.x  - (block.x + (size / 2))\n        let dy = current_node.y  - (block.y + (size / 2))\n        block.x += dx \n        block.y += dy\n        stack.shift()\n    }\n    block.draw()\n}\n\nexport {depth_first_search_maze}"]},"metadata":{},"sourceType":"module"}