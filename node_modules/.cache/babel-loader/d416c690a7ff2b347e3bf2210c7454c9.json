{"ast":null,"code":"import { Block } from '../helper_method';\nimport { get_top_right_bottom_left, add_to_heap, remove_from_heap } from './helper_method/algorithms_helper_method';\nlet start_node, end_node, nodes, c, canvas, size;\nlet open_list, close_list, current_node, myReq;\n\nconst a_star = props => {\n  start_node = props.start_node;\n  end_node = props.end_node;\n  nodes = props.nodes;\n  c = props.c;\n  canvas = props.canvas;\n  size = props.size;\n  end_node.prev_node = null;\n  open_list = add_to_heap(start_node, [], (a, b) => a.f < b.f);\n  close_list = [];\n  current_node = null;\n  cancelAnimationFrame(myReq);\n  run_solve_maze();\n};\n\nconst stop_a_star = () => {\n  cancelAnimationFrame(myReq);\n};\n\nconst run_solve_maze = () => {\n  myReq = requestAnimationFrame(run_solve_maze);\n  c.clearRect(0, 0, canvas.width, canvas.height);\n\n  for (let i = 0; i < nodes.length; i++) {\n    nodes[i].draw();\n  }\n\n  for (let i = 0; i < close_list.length; i++) {\n    if (!end_node.prev_node) {\n      close_list[i].color = 'MediumBlue';\n    }\n\n    close_list[i].draw();\n  }\n\n  for (let i = 0; i < open_list.length; i++) {\n    open_list[i].color = 'LightSkyBlue';\n    open_list[i].draw();\n  }\n\n  if (current_node && end_node.x === current_node.x && end_node.y === current_node.y) {\n    end_node.prev_node = current_node.prev_node;\n  }\n\n  if (open_list.length > 0 && !end_node.prev_node) {\n    current_node = open_list[0];\n    close_list.push(current_node);\n    find_child_node();\n  }\n\n  if (end_node.prev_node && current_node) {\n    current_node.color = \"LimeGreen\";\n    console.log(current_node);\n    current_node = current_node.prev_node;\n  }\n\n  if (!current_node || open_list.length === 0) {\n    cancelAnimationFrame(myReq);\n  }\n};\n\nconst find_child_node = () => {\n  open_list = remove_from_heap(open_list, (a, b) => a.f < b.f);\n  let {\n    top,\n    right,\n    bottom,\n    left\n  } = get_top_right_bottom_left(current_node, nodes, size); // right (x + size , y)\n\n  add_node(right, 3); // top (x , y - size)\n\n  add_node(top, 2); // left (x - size , y )\n\n  add_node(left, 1); // bottom (x , y + size)\n\n  add_node(bottom, 0);\n};\n\nconst add_node = (neighbor_node, wall_num) => {\n  if (neighbor_node && !neighbor_node.walls[wall_num] && !close_list.find(node => node.x === neighbor_node.x && node.y === neighbor_node.y)) {\n    let {\n      x,\n      y\n    } = neighbor_node;\n    let node_in_open = open_list.find(n => n.x === x && n.y === y);\n    let n_g = current_node.g + size;\n\n    if (node_in_open && n_g < node_in_open.g) {\n      update_node(node_in_open, n_g, current_node);\n    } else {\n      let new_node = set_node(neighbor_node, n_g);\n      open_list = add_to_heap(new_node, open_list, (a, b) => a.f < b.f);\n    }\n  }\n};\n\nconst set_node = (node, g) => {\n  let color = 'MediumBlue';\n  let x_1 = node.x;\n  let y_1 = node.y;\n  let x_2 = end_node.x;\n  let y_2 = end_node.y;\n  let h = (Math.abs(x_1 - x_2) + Math.abs(y_1 - y_2)) * size;\n  let f = h + g;\n  let new_node = new Block(x_1, y_1, c, size, color, current_node, g, h, f);\n  return new_node;\n};\n\nconst update_node = (node, g, parent) => {\n  node.g = g;\n  node.f = g + node.h;\n  node.parent = parent;\n};\n\nexport { a_star, stop_a_star };","map":{"version":3,"sources":["/Users/vienpham/Desktop/Algorithms_simulation/algorithms/src/Algorithms/solve_maze/a_star.js"],"names":["Block","get_top_right_bottom_left","add_to_heap","remove_from_heap","start_node","end_node","nodes","c","canvas","size","open_list","close_list","current_node","myReq","a_star","props","prev_node","a","b","f","cancelAnimationFrame","run_solve_maze","stop_a_star","requestAnimationFrame","clearRect","width","height","i","length","draw","color","x","y","push","find_child_node","console","log","top","right","bottom","left","add_node","neighbor_node","wall_num","walls","find","node","node_in_open","n","n_g","g","update_node","new_node","set_node","x_1","y_1","x_2","y_2","h","Math","abs","parent"],"mappings":"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","sourcesContent":["import { Block } from '../helper_method'\nimport {get_top_right_bottom_left , add_to_heap , remove_from_heap} from './helper_method/algorithms_helper_method'\n\nlet start_node , end_node , nodes , c , canvas , size \n\nlet open_list , close_list , current_node , myReq\n\nconst a_star = props => {\n    start_node = props.start_node\n    end_node = props.end_node \n    nodes = props.nodes\n    c = props.c \n    canvas = props.canvas \n    size = props.size \n\n    end_node.prev_node = null\n\n    open_list = add_to_heap(start_node , [] , (a,b) => a.f < b.f)\n    close_list = []\n    current_node = null \n\n    cancelAnimationFrame(myReq)\n    run_solve_maze()\n}\n\nconst stop_a_star = () => {\n    cancelAnimationFrame(myReq)\n}\n\nconst run_solve_maze = () => {\n    myReq = requestAnimationFrame(run_solve_maze)\n    c.clearRect(0,0,canvas.width, canvas.height)\n\n    for(let i = 0 ; i < nodes.length ; i ++){\n        nodes[i].draw()\n    }\n\n    for(let i = 0 ; i < close_list.length ; i ++){\n        if(!end_node.prev_node){\n            close_list[i].color = 'MediumBlue'\n        }\n        close_list[i].draw()\n    }\n\n    for(let i = 0 ; i < open_list.length ; i ++){\n        open_list[i].color = 'LightSkyBlue'\n        open_list[i].draw()\n    }\n\n    if(current_node && end_node.x === current_node.x && end_node.y === current_node.y){\n        end_node.prev_node = current_node.prev_node\n    }\n\n    if(open_list.length > 0 && !end_node.prev_node){\n        current_node = open_list[0]\n        close_list.push(current_node)\n        find_child_node()\n    }\n\n    if(end_node.prev_node && current_node){\n        current_node.color = \"LimeGreen\"\n        console.log(current_node)\n        current_node = current_node.prev_node\n    }\n\n    if(!current_node || open_list.length === 0){\n        cancelAnimationFrame(myReq)\n    }\n}\n\nconst find_child_node = () => {\n\n    open_list = remove_from_heap(open_list , (a,b) => a.f < b.f)\n    let {top , right , bottom , left} = get_top_right_bottom_left(current_node , nodes , size)\n\n    // right (x + size , y)\n    add_node(right , 3)\n\n    // top (x , y - size)\n    add_node(top , 2)\n\n    // left (x - size , y )\n    add_node(left , 1)\n\n    // bottom (x , y + size)\n    add_node(bottom , 0)\n}\n\nconst add_node = (neighbor_node , wall_num) => {\n    if(\n        neighbor_node \n        && !neighbor_node.walls[wall_num] \n        &&  !close_list.find(node => node.x === neighbor_node.x && node.y === neighbor_node.y)\n    ){\n        let {x , y} = neighbor_node\n        let node_in_open = open_list.find(n => n.x === x  && n.y === y)\n        let n_g = current_node.g + size \n\n        if(node_in_open && n_g < node_in_open.g){\n            update_node(node_in_open, n_g , current_node )\n        }else{\n            let new_node = set_node(neighbor_node, n_g)\n            open_list = add_to_heap(new_node, open_list , (a,b) => a.f < b.f)\n        }\n    }\n}\n\nconst set_node = (node, g) => {\n    let color = 'MediumBlue'\n    let x_1 = node.x \n    let y_1 = node.y \n    let x_2 = end_node.x \n    let y_2 = end_node.y    \n    let h = (Math.abs(x_1 - x_2) + Math.abs(y_1 - y_2)) * size \n    let f = h + g \n    let new_node = new Block(x_1 , y_1 , c , size , color , current_node , g , h , f)\n    return new_node \n}\n\nconst update_node = (node , g , parent) => {\n    node.g = g \n    node.f = g + node.h \n    node.parent = parent \n}\n\nexport {a_star , stop_a_star}"]},"metadata":{},"sourceType":"module"}